# راهنمای تنظیم ربات برای فایل‌های بزرگ

## مشکل اصلی
Telegram Bot API محدودیت 50MB برای فایل‌های ارسالی دارد. برای حل این مشکل، از Telegram Client API استفاده می‌کنیم.

## مراحل تنظیم

### 1. دریافت API ID و API Hash
1. به [my.telegram.org](https://my.telegram.org) بروید
2. وارد حساب کاربری خود شوید
3. به بخش "API development tools" بروید
4. یک اپلیکیشن جدید ایجاد کنید
5. `API ID` و `API Hash` را کپی کنید

### 2. تنظیم متغیرهای محیطی
در فایل `.env` یا متغیرهای محیطی سیستم:

```env
BOT_TOKEN=your_bot_token_here
API_ID=your_api_id_here
API_HASH=your_api_hash_here
```

### 3. نصب کتابخانه‌های مورد نیاز
```bash
pip install -r requirements.txt
```

### 4. تنظیم config.py
اطمینان حاصل کنید که در `config.py`:

```python
API_ID = os.getenv("API_ID", "YOUR_API_ID_HERE")
API_HASH = os.getenv("API_HASH", "YOUR_API_HASH_HERE")
```

## نحوه کارکرد

### برای فایل‌های کوچک (کمتر از 50MB)
- از Telegram Bot API استفاده می‌شود
- سرعت بالا و پایداری خوب

### برای فایل‌های بزرگ (بیشتر از 50MB)
- از Telegram Client API استفاده می‌شود
- پشتیبانی از فایل‌های تا 2GB
- تقسیم خودکار فایل‌های بزرگ

## محدودیت‌ها

1. **محدودیت Telegram**: حداکثر 2GB برای فایل‌های ارسالی
2. **محدودیت سرور**: بسته به پهنای باند سرور
3. **محدودیت زمان**: فایل‌های بزرگ زمان بیشتری نیاز دارند

## عیب‌یابی

### خطای "API_ID not set"
- مطمئن شوید که `API_ID` و `API_HASH` درست تنظیم شده‌اند
- فایل `.env` را بررسی کنید

### خطای "File too large"
- فایل‌های بزرگتر از 2GB پشتیبانی نمی‌شوند
- فایل را به قسمت‌های کوچک‌تر تقسیم کنید

### خطای "Connection timeout"
- اتصال اینترنت را بررسی کنید
- سرور را مجدداً راه‌اندازی کنید

## نکات مهم

1. **امنیت**: `API_ID` و `API_HASH` را در جایی امن نگه دارید
2. **پهنای باند**: فایل‌های بزرگ پهنای باند زیادی مصرف می‌کنند
3. **فضای دیسک**: اطمینان حاصل کنید که فضای کافی برای فایل‌های موقت وجود دارد
4. **زمان**: فایل‌های بزرگ زمان بیشتری برای پردازش نیاز دارند

## تست

برای تست عملکرد:

1. یک فایل 100MB ارسال کنید
2. یک فایل 500MB ارسال کنید  
3. یک فایل 1GB ارسال کنید

اگر همه این فایل‌ها با موفقیت ارسال شدند، تنظیمات درست است. 